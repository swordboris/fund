
天天基金网数据获取
====================

基金公司列表
-----------------

- 原始网页 

    http://fund.eastmoney.com/Company/default.html
    
- 数据源

    http://fund.eastmoney.com/Data/FoundRankScale.aspx?_=<时间戳>


- 格式

  json 
  
  var json={datas:[['80000080','山西证券股份有限公司','1988-07-28','14','王怡里','SXZQ','','88.70','★★★','山西证券','','2020/12/31 0:00:00'],['80000095','国都证券股份有限公司','2001-12-28','4','韩本毅','GDZQ','','0.61','★★★','国都证券','','2020/12/31 0:00:00'],['80000220','南方基金管理股份有限公司','1998-03-06','400','杨小松','NFJJ','','8344.52','★★★★★','南方基金','15','2021/2/9 0:00:00'],
  ...]}
  
  



获取基金列表
---------------

- 原始网页 

    http://fund.eastmoney.com/jzzzl.html#os_0;isall_0;ft_;pt_1


- 数据源

    http://fund.eastmoney.com/Data/Fund_JJJZ_Data.aspx?t=1&lx=1&letter=&gsid=&text=&sort=zde,asc&page=1,5&dt=1613400650082&atfc=&onlySale=0
    
    数据源中的参数：  
                sort=zde,asc 表示按日增长率升序排列
                page=1,5 表示获取第1到5页的数据
               

    输出格式：
    
    var db={chars:["a","b","c","d","f","g","h","j","k","m","n","p","q","r","s","t","w","x","y","z"],datas:[["002697","中欧消费主题股票C","ZOXFZTGPC","2.9890","2.9890","3.0010","3.0010","-0.0120","-0.40","开放申购","开放赎回","","1","0","1","","0","0.00%","","",""],["002621","中欧消费主题股票A","ZOXFZTGPA","3.0050","3.0050","3.0170","3.0170","-0.0120","-0.40","开放申购","开放赎回","","1","0","2","","1","0.15%","0.15%","1","1.50%"],["310368","申万菱信竞争优势混合","SWLXJZYSHH","2.0212","3.0372","2.0332","3.0492","-0.0120","-0.59","开放申购","开放赎回","","1","0","3","","1","0.15%","0.15%","1","1.50%"],["005620","中欧品质消费股票A","ZOPZXFGPA","2.2802","2.5352","2.2916","2.5466","-0.0114","-0.50","开放申购","开放赎回","","1","0","4","","1","0.15%","0.15%","1","1.50%"],["005621","中欧品质消费股票C","ZOPZXFGPC","2.2419","2.4809","2.2532","2.4922","-0.0113","-0.50","开放申购","开放赎回","","1","0","5","","0","0.00%","","",""]],count:["9895","8041","1447","407"],record:"10404",pages:"2081",curpage:"1",indexsy:[1.43,2.14,2.12,],showday:["2021-02-10","2021-02-09"]}
    
    其中datas:[[...]] 中是基金数据
    比如： ["002697","中欧消费主题股票C","ZOXFZTGPC","2.9890","2.9890","3.0010","3.0010","-0.0120","-0.40","开放申购","开放赎回","","1","0","1","","0","0.00%","","",""],
    
    各个域分别表示： 
    F0: 基金代码， 
    F1: 简称， 
    F2: 拼音代码， 
    F3,F4,F5,F6: 最近两日的单位净值和累计净值 （共4个域), 
    F7: 日增长值， 
    F8: 日增长率(%)，
    F9: 申购状态，
    F10: 赎回状态，
    F11~F16： 未知
    F17: 手续费
    F18~F0: 未知 
    

基金详情
-------------------

- 原始网页

    http://fund.eastmoney.com/002697.html  
    
    002697 是基金代码
    
    
- 净值数据源 

    url = "http://api.fund.eastmoney.com/f10/lsjz?callback=&fundCode={}&pageIndex={}&pageSize=200&startDate=&endDate=&_={}".format(
    code,curr_page,time_ms)
    
    输出格式为json格式
    
    {"Data":{"LSJZList":[{"FSRQ":"2021-02-10","DWJZ":"3.2110","LJJZ":"3.2110","SDATE":null,"ACTUALSYI":"","NAVTYPE":"1","JZZZL":"0.41","SGZT":"开放申购","SHZT":"开放赎回","FHFCZ":"","FHFCBZ":"","DTYPE":null,"FHSP":""},.....],"FundType":"002","SYType":null,"isNewType":false,"Feature":"211"},"ErrCode":0,"ErrMsg":null,"TotalCount":1824,"Expansion":null,"PageSize":200,"PageIndex":1}
    
    TotalCount 为总记录数， 可用于判断迭代终止条件
    PageIndex * PageSize >= TotalCount 时终止迭代。 
    
- 基金公司

    url = "http://fundf10.eastmoney.com/jjjz_{}.html".format(code)
    
    获取<dd id="f10_menu_jjgs">的内容

- 基金经理
    
    
基金十大持仓
---------------

- 数据源 

    http://fundf10.eastmoney.com/FundArchivesDatas.aspx?type=jjcc&code=002697&topline=10&year=&month=&rt=0.6132070292757961


    获取后的数据整理为
    
    基金代码    时间           股票列表                  
    002697   2020-12-31    002705，...603877
    



数据库
-----------------------------

- 基金列表

    F0: 基金代码， 
    F1: 简称， 
    F2： 单位净值
    F3  累计净值, 
    F4: 日增长值， 
    F5: 日增长率(%)，
    F6: 申购状态，
    F7: 赎回状态，
    F8: 手续费
    F9： 公司代码
    F10: 更新日期
    
    
    
    







